import{_ as A,u as G,b as tt,d,w as et,r as st,e as U,o as D,c as S,a as e,i as y,q as b,n as u,m,v as k,f as W,y as ot,z as it,p as lt,j as nt}from"./index-430f7254.js";const at="/iconWechat.png",dt="/iconTencent.png";const a=_=>(lt("data-v-9a329af5"),_=_(),nt(),_),ct={class:"main"},rt=["width","height"],pt={class:"signDiv",id:"signDiv"},ut=a(()=>e("i",{class:"iconfont"},"",-1)),vt=[ut],ht={class:"flex items-center w-full h-full"},xt={class:"flex flex-col justify-center items-center px-10",style:{"user-select":"none","border-color":"rgba(230, 230, 230)"},id:"phonehidden"},ft=a(()=>e("p",{class:"text-2xl"},"移动端使用",-1)),yt=a(()=>e("div",{class:"h-2/5 py-10",id:"phonehidden"},[e("div",{style:{height:"250px",width:"250px"},id:"icon"})],-1)),bt={class:"text-2xl absolute bottom-[50px]",id:"phonehidden"},_t=a(()=>e("div",{class:"typing"},null,-1)),gt=a(()=>e("div",{class:"border-r-2 border-solid",style:{height:"230px","user-select":"none","border-color":"rgba(230, 230, 230)"},id:"phonehidden"},null,-1)),wt={class:"flex flex-col justify-center items-center w-full px-10",style:{"user-select":"none"}},mt={class:"h-1/5 text-2xl flex"},kt=a(()=>e("div",{class:"border-r-2 border-solid border-slate-500"},null,-1)),It={key:0,class:"m-5 w-full flex justify-center"},zt={class:"flex flex-col",action:""},$t={class:"flex items-center relative"},Ct={class:"flex rounded-t-xl",style:{width:"450px",height:"50px",border:"1px solid #adadad","background-color":"rgba(224, 224, 224,.8)"}},Mt=a(()=>e("label",{for:"账号",class:"py-3 px-6",style:{width:"100px"}},"账号",-1)),Pt={class:"flex items-center relative"},Lt={class:"flex justify-between rounded-b-xl",style:{width:"450px",height:"50px",border:"1px solid #adadad","background-color":"rgba(224, 224, 224,.8)","border-top":"0"}},jt=a(()=>e("label",{for:"密码",class:"py-3 px-6",style:{width:"100px"}},"密码",-1)),Dt={key:1,class:"m-5"},St={class:"flex flex-col",action:""},Ft={class:"flex items-center relative"},Nt={class:"flex justify-between rounded-t-xl",style:{width:"450px",height:"50px",border:"1px solid #adadad","background-color":"rgba(224, 224, 224,.8)"}},Vt=a(()=>e("label",{for:"账号",class:"py-3 px-6",style:{width:"120px"}},"手机",-1)),Et={class:"flex items-center relative"},Bt={class:"flex rounded-b-xl",style:{width:"450px",height:"50px",border:"1px solid #adadad","background-color":"rgba(224, 224, 224,.8)","border-top":"0"}},Tt=a(()=>e("label",{for:"验证码",class:"py-3",style:{width:"130px"}},"验证码",-1)),Kt={class:"flex items-center justify-center pb-3"},Ot={class:"flex flex-col",style:{"font-size":"14px",color:"#213547"}},Qt=a(()=>e("p",{class:"pb-3"},"其他方式登录",-1)),Ut={class:"flex justify-center"},Wt=a(()=>e("img",{src:at,alt:"WeChat"},null,-1)),Xt=a(()=>e("p",{class:"px-2"},"微信登录",-1)),Ht=[Wt,Xt],Rt=a(()=>e("img",{src:dt,alt:"Tencent"},null,-1)),qt=a(()=>e("p",{class:"px-2"},"QQ登录",-1)),Jt=[Rt,qt],Yt=ot('<div class="flex flex-col pt-8" style="font-size:13px;" data-v-9a329af5><div class="flex w-full justify-center" data-v-9a329af5>未注册过Tasklist的手机号，我们将自动帮你注册账号</div><div class="flex w-full justify-center" data-v-9a329af5><p data-v-9a329af5>登录或完成注册即代表你同意</p><div class="px-1 cursor-pointer" style="color:#4698db;" data-v-9a329af5>用户协议</div><p data-v-9a329af5>和</p><div class="px-1 cursor-pointer" style="color:#4698db;" data-v-9a329af5>隐私政策</div></div></div>',1),Zt={__name:"SignIn",setup(_){G();const X=tt(),h=l=>{X.push({name:l})};let I=JSON.parse(localStorage.getItem("mainData"));const z=d(""),$=d(1920),C=d(800);class i{constructor(t,n,o,s,v,J,Y,Z){this.a=t,this.b=n,this.c=o,this.d=s,this.z=v,this.start=J,this.end=Y,this.gap=Z,this.pointList=[],this.computePointList()}computePointList(){this.pointList=[];for(let t=this.start;t<=this.end;t=t+this.gap){let n=t,o=this.a*Math.sin((this.b*n+this.c)/180*Math.PI)+this.d,s=t;this.pointList.push({x:n,y:o,z:this.z,originX:n,offset:s})}}}const M=[new i(20,2,0,0,-390,-300,300,10),new i(20,2,0,0,-360,-300,300,10),new i(20,2,0,0,-330,-300,300,10),new i(20,2,0,0,-300,-300,300,10),new i(20,2,0,0,-270,-300,300,10),new i(20,2,0,0,-240,-300,300,10),new i(20,2,0,0,-210,-300,300,10),new i(20,2,0,0,-180,-300,300,10),new i(20,2,0,0,-150,-300,300,10),new i(20,2,0,0,-120,-300,300,10),new i(20,2,0,0,-90,-300,300,10),new i(20,2,0,0,-60,-300,300,10),new i(20,2,0,0,-30,-300,300,10),new i(20,2,0,0,0,-300,300,10),new i(20,2,0,0,30,-300,300,10),new i(20,2,0,0,60,-300,300,10),new i(20,2,0,0,90,-300,300,10),new i(20,2,0,0,120,-300,300,10),new i(20,2,0,0,150,-300,300,10),new i(20,2,0,0,180,-300,300,10),new i(20,2,0,0,210,-300,300,10),new i(20,2,0,0,240,-300,300,10),new i(20,2,0,0,270,-300,300,10),new i(20,2,0,0,300,-300,300,10)],F=l=>{const t=z.value.getContext("2d");t.clearRect(0,0,$.value,C.value),M.forEach(n=>{n.pointList.forEach(o=>{const s=1.5*l.z/(l.z-o.z);t.beginPath(),t.arc(o.canvasX+$.value/2,o.canvasY+C.value/2,s,0,2*Math.PI),t.closePath(),t.fill()})})},H=(l,t)=>{M.forEach(n=>{n.pointList.forEach(o=>{let s=o.x,v=o.z;o.x=s*Math.cos(l/180*Math.PI)-v*Math.sin(l/180*Math.PI),o.z=v*Math.cos(l/180*Math.PI)+s*Math.sin(l/180*Math.PI),o.y=n.a*Math.sin((n.b*o.originX+n.c+o.offset)/180*Math.PI)+n.d,o.canvasX=(o.x-t.x)*t.z/(t.z-v),o.canvasY=(o.y-t.y)*t.z/(t.z-v)})})},N=l=>{window.requestAnimationFrame(()=>{M.forEach((t,n)=>{t.pointList.forEach(o=>{t.c=o.offset+n*30,o.offset=o.offset+1}),H(.003,l)}),F(l),N(l)})};et(z,(l,t)=>{const n={x:0,y:-70,z:500};F(n),N(n)});const r=d(1),V=l=>l==r.value?"color:#4698db":"color:#000000",x=d(""),f=d(""),g=d(""),w=d(""),E=d(0),B=d(0),P=d(0),L=d(0),c=st(["right:-40px;visibility: hidden;opacity: 0;","right:-40px;visibility: hidden;opacity: 0;","right:-40px;visibility: hidden;opacity: 0;","right:-40px;visibility: hidden;opacity: 0;"]),T=/^[1-9]([0-9]{4,10})$/,K=/^[A-Za-z0-9~]+$/,O=/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-7|9])|(?:5[0-3|5-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[1|8|9]))\d{8}$/,Q=/^[A-Za-z0-9]{4}$/,R=d(""),j=d("margin-left:0px;margin-right:0px;background-color:#7fd6f5;"),p=()=>{!T.test(x.value)&&E.value==1?c[0]="right:-40px;visibility: visible;opacity: 1;":c[0]="right:-40px;visibility: hidden;opacity: 0;",!K.test(f.value)&&B.value==1?c[1]="right:-40px;visibility: visible;opacity: 1;":c[1]="right:-40px;visibility: hidden;opacity: 0;",!O.test(g.value)&&P.value==1?c[2]="right:-40px;visibility: visible;opacity: 1;":c[2]="right:-40px;visibility: hidden;opacity: 0;",!Q.test(w.value)&&L.value==1?c[3]="right:-40px;visibility: visible;opacity: 1;":c[3]="right:-40px;visibility: hidden;opacity: 0;",O.test(g.value)&&Q.test(w.value)&&r.value==0||T.test(x.value)&&K.test(f.value)&&r.value==1?j.value="margin-left:0px;margin-right:0px;background-color:#4698db;cursor:pointer":j.value="margin-left:0px;margin-right:0px;background-color:#7fd6f5;"},q=()=>{it.post("http://localhost:3000/login/cellphone",{phone:x.value,password:f.value}).then(l=>{console.log(l.data),I.time.userID=l.data.profile.nickname,I.time.primeID=l.data.account.id,localStorage.setItem("mainData",JSON.stringify(I)),h("HOME")},l=>{console.log("错误",l.message)})};return(l,t)=>{const n=U("vuetyped"),o=U("el-tooltip");return D(),S("div",ct,[e("canvas",{class:"",ref_key:"wave",ref:z,width:$.value,height:C.value},null,8,rt),e("div",pt,[e("div",{class:"absolute right-10 top-6 text-2xl cursor-pointer",title:"返回",onClick:t[0]||(t[0]=s=>h("HOME"))},vt),e("div",ht,[e("div",xt,[ft,yt,e("div",bt,[y(n,{strings:["你好","欢迎使用Tasklist","一个任务清单平台","不使用登录功能的话","您的所有日程将被存储在本地","请勿将重要日程写入TaskList","玩得开心😶‍🌫️"],loop:!0,"smart-backspace":!0},{default:b(()=>[_t]),_:1})])]),gt,e("div",wt,[e("div",mt,[e("div",{class:"mx-6 cursor-pointer",onClick:t[1]||(t[1]=s=>(r.value=1,p())),style:u(V(1))},"密码登录",4),kt,e("div",{class:"mx-6 cursor-pointer",onClick:t[2]||(t[2]=s=>(r.value=0,p())),style:u(V(0))},"快速注册",4)]),r.value?(D(),S("div",It,[e("form",zt,[e("div",$t,[e("div",Ct,[Mt,m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>x.value=s),onFocus:t[4]||(t[4]=s=>E.value=1),onKeyup:t[5]||(t[5]=s=>p()),class:"h-full w-full focus:outline-0",style:{"background-color":"rgba(224, 224, 224,0)"},name:"账号",type:"text",placeholder:"请输入账号"},null,544),[[k,x.value]])]),y(o,{content:"账号为4~10位的数字哦",placement:"bottom"},{default:b(()=>[e("div",{class:"absolute transition-all",style:u(c[0])},"😭",4)]),_:1})]),e("div",Pt,[e("div",Lt,[jt,m(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>f.value=s),onFocus:t[7]||(t[7]=s=>B.value=1),onKeyup:t[8]||(t[8]=s=>p()),class:"h-full focus:outline-0",style:{width:"300px","background-color":"rgba(224, 224, 224,0)"},name:"密码",type:"password",placeholder:"请输入密码"},null,544),[[k,f.value]]),e("div",{class:"py-3 px-4",style:{width:"120px",color:"#4698db",cursor:"pointer"},onClick:t[9]||(t[9]=s=>h("foundPsw"))},"忘记密码?")]),y(o,{content:"密码为字母和数字组合哦",placement:"bottom"},{default:b(()=>[e("div",{class:"absolute transition-all",style:u(c[1])},"😭",4)]),_:1})])])])):W("",!0),r.value?W("",!0):(D(),S("div",Dt,[e("form",St,[e("div",Ft,[e("div",Nt,[Vt,m(e("input",{class:"h-full w-full focus:outline-0","onUpdate:modelValue":t[10]||(t[10]=s=>g.value=s),onFocus:t[11]||(t[11]=s=>P.value=1),onKeyup:t[12]||(t[12]=s=>p()),style:{width:"300px","background-color":"rgba(224, 224, 224,0)"},name:"号码",type:"text",placeholder:"请输入手机号"},null,544),[[k,g.value]]),e("div",{class:"py-3 px-4 cursor-pointer",style:{width:"150px",color:"#4698db"},onClick:t[13]||(t[13]=s=>(P.value=1,L.value=0,p()))},"获取验证码")]),y(o,{content:"请输入正确的电话号码哦",placement:"bottom"},{default:b(()=>[e("div",{class:"absolute transition-all",style:u(c[2])},"😭",4)]),_:1})]),e("div",Et,[e("div",Bt,[Tt,m(e("input",{class:"h-full w-full focus:outline-0","onUpdate:modelValue":t[14]||(t[14]=s=>w.value=s),onFocus:t[15]||(t[15]=s=>L.value=1),onKeyup:t[16]||(t[16]=s=>p()),style:{"background-color":"rgba(224, 224, 224,0)"},name:"验证码",type:"text",placeholder:"请输入验证码"},null,544),[[k,w.value]])]),y(o,{content:"验证码为四位数哦",placement:"bottom"},{default:b(()=>[e("div",{class:"absolute transition-all",style:u(c[3])},"😭",4)]),_:1})])])])),e("div",Kt,[e("div",{class:"subbmitButton",ref_key:"runningButton",ref:R,style:u(j.value),onClick:t[17]||(t[17]=s=>q())},"登录",4)]),e("div",Ot,[Qt,e("div",Ut,[e("div",{class:"flex items-center mx-5 cursor-pointer",onClick:t[18]||(t[18]=s=>h("QQCode"))},Ht),e("div",{class:"flex items-center mx-5 cursor-pointer",onClick:t[19]||(t[19]=s=>h("WechatCode"))},Jt)])]),Yt])])])])}}},Gt=A(Zt,[["__scopeId","data-v-9a329af5"]]);export{Gt as default};
